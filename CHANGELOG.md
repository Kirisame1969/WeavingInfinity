# 更新日志 (Change Log)

## v1.2.0 - 模块化系统重构与优化- 2025-12-19

### 新增功能
- 完善模块执行上下文(ModuleExecutionContext)设计，增强其作为数据枢纽和协作桥梁的能力
- 实现完整的模块执行流程控制机制，包括继续执行、跳过模块等功能
- 增强模块间数据共享能力，通过共享数据池实现模块间通信
- 添加子实体隔离机制，防止修饰模块递归触发

### 功能优化
- 重构模块执行器(ModuleExecutor)，优化执行逻辑，提高性能
- 改进模块接口(ISpellModule)，增加更多交互方法
- 增强火球模块(FireballModule)与上下文的交互
- 优化分裂模块(SplitOnHitModifier)的子实体生成逻辑
- 改进事件处理器(ModEventHandler)与模块系统的协同

### 技术改进
- 实现更完善的流程控制标记系统
- 添加类型安全的上下文数据管理
- 增强错误处理和日志记录
- 优化模块查找和识别逻辑

## v1.1.0 - 基础模块化法术系统- 2025-12-18

### 重构
- 重新设计了火球模块和击中分裂模块的交互方式，提高模块间的通用性和兼容性
- 移除了火球模块中冗余的分裂效果实现代码
- 击中分裂模块现在具有更好的通用性，可以适用于任何支持克隆投射物的基础模块

### 新增功能
- 在 `ISpellModule` 接口中添加了 `cloneProjectile` 方法，允许修饰模块调用基础模块的投射物克隆功能
- 为火球模块实现了 `cloneProjectile` 方法，使其支持通用的投射物克隆机制
- 更新了事件处理器，使用新的通用机制处理投射物击中事件

### 优化
- 移除了重复的代码实现，提高了代码的可维护性
- 简化了模块间的依赖关系，增强了系统的扩展性
- 保持了原有的发射逻辑和属性继承机制

## v1.0.0 - 项目初始化- 2025-12-17

### 新增功能
- 实现了模块化法术系统，支持基础模块和修饰模块的组合
- 添加了火球术基础模块，可以发射火球投射物
- 添加了击中分裂修饰模块，使投射物击中目标时能产生额外的投射物
- 实现了法术核心物品，支持最多3个模块插槽
- 添加了命令系统，支持通过命令添加、清除和列出模块
- 使用 Minecraft 1.21.1 的新数据组件系统存储模块信息

### 技术实现
- 基于 Iron's Spells n Spellbooks 模组进行扩展开发
- 使用 NeoForge 作为模组开发框架
- 实现了模块注册系统，支持内置模块的注册和管理
- 采用了事件驱动的设计模式，通过监听弹射物撞击事件触发特殊效果


### 初始化功能
- 创建项目基本框架
- 配置Gradle构建系统
- 设置基本的模组结构
- 实现基本的物品和命令注册